{"version":3,"file":"static/js/837.fddb88de.chunk.js","mappings":"6QAGaA,EAAOC,EAAAA,EAAAA,GAAH,6CAIJC,EAAQD,EAAAA,EAAAA,GAAH,8CAILE,GAAaF,EAAAA,EAAAA,GAAOG,EAAAA,GAAPH,CAAH,2G,SCPVI,EAAa,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACrBC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,SAACR,EAAD,UACGM,EAAOG,KAAI,YAA0B,IAAvBC,EAAsB,EAAtBA,GAAIC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MACvB,OACE,SAACV,EAAD,WACE,SAACC,EAAD,CACEU,GAAE,kBAAaH,GACfI,MAAO,CAAEC,KAAMR,GAFjB,SAIGK,GAAgBD,KALTD,EASf,KAGN,ECrBYM,EAAa,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAChD,OACE,kBAAMC,SAAUH,EAAhB,WACE,kBAAOI,KAAK,OAAOV,KAAK,QAAQQ,SAAUA,EAAUD,MAAOA,KAC3D,yCAGL,E,OCwCD,EA3Ce,WACb,OAAwCI,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SAE/B,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOrB,EAAP,KAAesB,EAAf,KACA,GAAoCD,EAAAA,EAAAA,UAAS,IAA7C,eAAOE,EAAP,KAAmBC,EAAnB,MAEAC,EAAAA,EAAAA,YAAU,WAAM,wCAEd,8GAE+BC,EAAAA,EAAAA,IAAiBP,GAFhD,OAEUQ,EAFV,OAGIL,EAAUK,GACVH,EAAc,IAJlB,gDAMII,QAAQC,IAAI,KAAMC,SANtB,0DAFc,sBACA,KAAVX,GAA0B,OAAVA,GADN,mCAWdY,EACD,GAAE,CAACZ,IAYJ,OACE,iCACE,SAACT,EAAD,CACEC,aAbe,SAAAqB,GACnBA,EAAEC,iBAEFf,EAAgB,CAAEC,MAAOI,GAC1B,EAUKX,MAAOW,EACPV,SATe,SAAAmB,GACnBR,EAAcQ,EAAEE,OAAOtB,MACxB,IASIO,IAAS,SAACpB,EAAD,CAAYC,OAAQA,MAGnC,C","sources":["components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.js","components/SearchForm/SearchForm.js","pages/Movies/Movies.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { NavLink } from 'react-router-dom';\n\nexport const List = styled.ul`\n  margin-top: 16px;\n`;\n\nexport const Movie = styled.li`\n  padding: 8px 16px;\n`;\n\nexport const StyledLink = styled(NavLink)`\n  color: black;\n  text-decoration: none;\n\n  :hover {\n    color: #f55138;\n  }\n`;","import { useLocation } from 'react-router-dom';\nimport PropTypes, { arrayOf } from 'prop-types';\nimport { List, Movie, StyledLink } from './MoviesList.styled';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n  \n  return (\n    <List>\n      {movies.map(({ id, name, title }) => {\n        return (\n          <Movie key={id}>\n            <StyledLink\n              to={`/movies/${id}`}\n              state={{ from: location }}\n            >\n              {title ? title : name}\n            </StyledLink>\n          </Movie>\n        );\n      })}\n    </List>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string,\n      title: PropTypes.string,\n    })\n  ),\n};\n","import PropTypes from 'prop-types';\n\nexport const SearchForm = ({ handleSubmit, value, onChange }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" name=\"movie\" onChange={onChange} value={value} />\n      <button>Submit</button>\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { getMoviesByQuery } from 'services/fetch';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const [movies, setMovies] = useState([]);\n  const [inputValue, setInputValue] = useState('')\n\n  useEffect(() => {\n    if (query === '' || query === null) return;\n    async function getMoviesList() {\n      try {\n        const searchMovies = await getMoviesByQuery(query);\n        setMovies(searchMovies);\n        setInputValue('');\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n    getMoviesList();\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    setSearchParams({ query: inputValue });\n  };\n\n  const handleChange = e => {\n    setInputValue(e.target.value)\n  };\n\n  return (\n    <>\n      <SearchForm\n        handleSubmit={handleSubmit}\n        value={inputValue}\n        onChange={handleChange}\n      />\n      {query && <MoviesList movies={movies} />}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["List","styled","Movie","StyledLink","NavLink","MoviesList","movies","location","useLocation","map","id","name","title","to","state","from","SearchForm","handleSubmit","value","onChange","onSubmit","type","useSearchParams","searchParams","setSearchParams","query","get","useState","setMovies","inputValue","setInputValue","useEffect","getMoviesByQuery","searchMovies","console","log","message","getMoviesList","e","preventDefault","target"],"sourceRoot":""}